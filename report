local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local Admins = {
    ["NamaOwner"] = true
}

local ReportEvent = Instance.new("RemoteEvent")
ReportEvent.Name = "ReportKickEvent"
ReportEvent.Parent = ReplicatedStorage

if game:GetService("RunService"):IsClient() then
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "ReportGUI"
    ScreenGui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")

    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(0, 180, 0, 140)
    Frame.Position = UDim2.new(0.02, 0, 0.4, 0)
    Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Frame.Parent = ScreenGui

    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 10)
    UICorner.Parent = Frame

    local ReportBtn = Instance.new("TextButton")
    ReportBtn.Size = UDim2.new(1, -20, 0, 40)
    ReportBtn.Position = UDim2.new(0, 10, 0, 10)
    ReportBtn.Text = "REPORT PLAYER"
    ReportBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    ReportBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    ReportBtn.Parent = Frame

    local NameBox = Instance.new("TextBox")
    NameBox.PlaceholderText = "Nama target..."
    NameBox.Size = UDim2.new(1, -20, 0, 35)
    NameBox.Position = UDim2.new(0, 10, 0, 60)
    NameBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    NameBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    NameBox.Parent = Frame

    local SendBtn = Instance.new("TextButton")
    SendBtn.Size = UDim2.new(1, -20, 0, 35)
    SendBtn.Position = UDim2.new(0, 10, 0, 100)
    SendBtn.Text = "KIRIM"
    SendBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    SendBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    SendBtn.Parent = Frame

    SendBtn.MouseButton1Click:Connect(function()
        if NameBox.Text ~= "" then
            ReportEvent:FireServer(NameBox.Text)
        end
        NameBox.Text = ""
    end)
end

if game:GetService("RunService"):IsServer() then
    ReportEvent.OnServerEvent:Connect(function(player, targetName)
        if not Admins[player.Name] then return end
        local target = Players:FindFirstChild(targetName)
        if target then
            target:Kick("Auto-kicked by admin report.")
        end
    end)
end
